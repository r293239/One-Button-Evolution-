<!DOCTYPE html>
<html>
<head>
    <title>Tab Spammer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: #000;
            color: #0f0;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        h1 {
            color: #f00;
            margin-bottom: 20px;
            font-size: 2.5rem;
        }
        
        .status {
            background: #111;
            border: 2px solid #f00;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat {
            background: #222;
            padding: 15px;
            border-radius: 8px;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #0f0;
        }
        
        .controls {
            margin: 30px 0;
        }
        
        .btn {
            background: #f00;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-weight: bold;
        }
        
        .btn:hover {
            background: #ff4444;
        }
        
        .log {
            background: #111;
            border: 1px solid #0f0;
            border-radius: 8px;
            padding: 15px;
            height: 300px;
            overflow-y: auto;
            text-align: left;
            font-family: monospace;
            font-size: 0.9rem;
        }
        
        .log-entry {
            color: #0f0;
            margin-bottom: 5px;
            padding: 2px 0;
            border-bottom: 1px solid #222;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ö° TAB SPAMMER ‚ö°</h1>
        
        <div class="status">
            <h2 id="statusText">READY</h2>
            <div id="statusDetail">Click START to begin tab spam</div>
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="openedCount">0</div>
                <div>Tabs Opened</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="closedCount">0</div>
                <div>Tabs Closed</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="activeCount">0</div>
                <div>Active Now</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="speedValue">0/s</div>
                <div>Speed</div>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn" id="startBtn">üöÄ START SPAM</button>
            <button class="btn" id="stopBtn" style="background:#444;" disabled>‚èπÔ∏è STOP</button>
            <button class="btn" id="loadBtn" style="background:#0a0;">üéØ LOAD SITE</button>
        </div>
        
        <div class="log" id="logBox">
            <div class="log-entry">[SYSTEM] Ready. Click START to spam tabs.</div>
        </div>
    </div>

    <script>
        // ============ CONFIG ============
        let config = {
            tabsPerSecond: 50,      // How many tabs to open per second
            closeDelay: 100,        // Close tabs after this many ms
            maxActiveTabs: 100,     // Don't exceed this many tabs
            targetSite: 'https://www.reddit.com',
            useWhitelist: true      // Mix with allowed sites
        };

        // ============ STATE ============
        let isRunning = false;
        let activeWindows = new Map(); // Map of window ID -> window object
        let stats = {
            opened: 0,
            closed: 0,
            startTime: 0
        };
        let spamInterval = null;
        let lastUpdate = Date.now();

        // ============ SITE LISTS ============
        const redditUrls = [
            'https://www.reddit.com',
            'https://old.reddit.com',
            'https://www.reddit.com/r/all',
            'https://www.reddit.com/r/gaming',
            'https://www.reddit.com/r/videos',
            'https://www.reddit.com/r/funny'
        ];

        const whitelist = [
            'https://www.wikipedia.org',
            'https://www.khanacademy.org',
            'https://www.nasa.gov'
        ];

        // ============ DOM ELEMENTS ============
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const loadBtn = document.getElementById('loadBtn');
        const logBox = document.getElementById('logBox');

        // ============ UTILITIES ============
        function log(msg) {
            const now = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.textContent = `[${now}] ${msg}`;
            logBox.prepend(entry);
            if (logBox.children.length > 50) {
                logBox.removeChild(logBox.lastChild);
            }
        }

        function updateStats() {
            document.getElementById('openedCount').textContent = stats.opened;
            document.getElementById('closedCount').textContent = stats.closed;
            document.getElementById('activeCount').textContent = activeWindows.size;
            
            // Calculate speed
            const now = Date.now();
            const elapsed = (now - lastUpdate) / 1000;
            if (elapsed > 0) {
                const speed = Math.round(stats.opened / ((now - stats.startTime) / 1000));
                document.getElementById('speedValue').textContent = speed + '/s';
            }
            lastUpdate = now;
            
            // Update status
            document.getElementById('statusText').textContent = 
                isRunning ? 'SPAMMING...' : 'STOPPED';
            document.getElementById('statusDetail').textContent = 
                isRunning ? `${activeWindows.size} tabs active` : 'Click START to begin';
        }

        // ============ TAB SPAM FUNCTIONS ============
        function openRandomTab() {
            try {
                // Choose URL
                const useReddit = Math.random() > 0.3;
                const urls = useReddit ? redditUrls : whitelist;
                const url = urls[Math.floor(Math.random() * urls.length)];
                
                // Generate unique window name
                const winName = 'tabspam_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                
                // Generate random position
                const left = Math.floor(Math.random() * (screen.width - 400));
                const top = Math.floor(Math.random() * (screen.height - 300));
                
                // OPEN ACTUAL WINDOW
                const newWin = window.open(
                    url,
                    winName,
                    `width=400,height=300,left=${left},top=${top},menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes`
                );
                
                if (newWin && !newWin.closed) {
                    // Store reference
                    activeWindows.set(winName, newWin);
                    stats.opened++;
                    
                    log(`${useReddit ? 'REDDIT' : 'SITE'}: ${new URL(url).hostname}`);
                    
                    // Schedule closing
                    setTimeout(() => {
                        try {
                            if (newWin && !newWin.closed) {
                                newWin.close();
                                activeWindows.delete(winName);
                                stats.closed++;
                            }
                        } catch(e) {}
                    }, config.closeDelay + Math.random() * 50);
                    
                    return true;
                }
            } catch(e) {
                log(`ERROR: ${e.message}`);
            }
            return false;
        }

        function spamTabs() {
            if (!isRunning) return;
            
            // Calculate how many tabs to open this cycle
            const tabsThisCycle = Math.floor(config.tabsPerSecond / 10);
            
            for (let i = 0; i < tabsThisCycle; i++) {
                setTimeout(() => {
                    if (!isRunning) return;
                    openRandomTab();
                }, i * 10); // Stagger openings
            }
            
            // Clean up if too many
            if (activeWindows.size > config.maxActiveTabs) {
                const entries = Array.from(activeWindows.entries());
                const toClose = entries.slice(0, entries.length - config.maxActiveTabs);
                toClose.forEach(([name, win]) => {
                    try {
                        win.close();
                        activeWindows.delete(name);
                        stats.closed++;
                    } catch(e) {}
                });
            }
        }

        // ============ CONTROL FUNCTIONS ============
        function startSpam() {
            if (isRunning) return;
            
            log("üöÄ STARTING TAB SPAM");
            isRunning = true;
            stats.startTime = Date.now();
            startBtn.disabled = true;
            stopBtn.disabled = false;
            
            // Clear any existing windows
            activeWindows.forEach(win => {
                try { win.close(); } catch(e) {}
            });
            activeWindows.clear();
            
            // Start spamming
            spamInterval = setInterval(() => {
                spamTabs();
                updateStats();
            }, 100); // Run every 100ms (10 times per second)
            
            log(`Spamming at ${config.tabsPerSecond} tabs/sec`);
        }

        function stopSpam() {
            log("‚èπÔ∏è STOPPING");
            isRunning = false;
            startBtn.disabled = false;
            stopBtn.disabled = true;
            
            if (spamInterval) {
                clearInterval(spamInterval);
                spamInterval = null;
            }
            
            // Close all windows
            activeWindows.forEach(win => {
                try { win.close(); } catch(e) {}
            });
            activeWindows.clear();
            
            updateStats();
        }

        function loadSite() {
            log("üéØ LOADING TARGET SITE");
            
            // Try multiple methods
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    try {
                        window.open(config.targetSite, '_target' + i);
                    } catch(e) {}
                }, i * 100);
            }
            
            // Also try iframe
            setTimeout(() => {
                const iframe = document.createElement('iframe');
                iframe.src = config.targetSite;
                iframe.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;border:none;';
                document.body.appendChild(iframe);
            }, 500);
        }

        // ============ EVENT LISTENERS ============
        startBtn.addEventListener('click', startSpam);
        stopBtn.addEventListener('click', stopSpam);
        loadBtn.addEventListener('click', loadSite);

        // ============ KEYBOARD CONTROLS ============
        document.addEventListener('keydown', (e) => {
            if (e.key === ' ') {
                if (isRunning) stopSpam();
                else startSpam();
            }
            if (e.key === 't') loadSite();
            if (e.key === 'Escape') stopSpam();
        });

        // ============ AUTO-START ============
        setTimeout(() => {
            log("Auto-starting in 3 seconds...");
            setTimeout(startSpam, 3000);
        }, 1000);

        // Update stats every second
        setInterval(updateStats, 1000);
    </script>
</body>
</html>
